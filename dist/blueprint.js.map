{
  "version": 3,
  "sources": ["../src/blueprint.ts"],
  "sourcesContent": [
    "import { XinBlueprint, PartsMap } from 'xinjs'\n\ninterface ToggleParts extends PartsMap {\n  valueHolder: HTMLInputElement\n}\n\nexport const toggle: XinBlueprint = (tag, factory) => {\n  const { Component, elements, vars } = factory\n  const { input, label, div, slot } = elements\n\n  class XinToggle extends Component {\n    value = false\n    disabled = false\n\n    get checked(): boolean {\n      return this.value\n    }\n\n    set checked(value: boolean) {\n      this.value = value\n    }\n\n    constructor() {\n      super()\n\n      this.initAttributes('disabled')\n    }\n\n    static styleSpec = {\n      ':host': {\n        display: 'inline-block',\n      },\n\n      ':host label': {\n        display: 'inline-flex',\n        gap: vars.toggleGap,\n        alignItems: 'center',\n      },\n\n      ':host::part(container)': {\n        display: 'block',\n        height: vars.toggleKnobSize,\n        lineHeight: vars.toggleKnobSize,\n        position: 'relative',\n      },\n\n      '[part=track]': {\n        transition: vars.toggleTransition,\n        margin: vars.toggleTrackInset,\n        height: vars.toggleTrackHeight,\n        width: vars.toggleTrackWidth,\n        borderRadius: vars.toggleTrackRadius,\n        background: vars.toggleTrackColor,\n        boxShadow: vars.toggleTrackShadow,\n      },\n\n      'input:checked + div > [part=track]': {\n        background: vars.toggleTrackOnColor,\n      },\n\n      '[part=knob]': {\n        transition: vars.toggleTransition,\n        height: vars.toggleKnobSize,\n        width: vars.toggleKnobSize,\n        borderRadius: vars.toggleKnobRadius,\n        top: 0,\n        left: 0,\n        position: 'absolute',\n        background: vars.toggleOffColor,\n        boxShadow: vars.toggleKnobShadow,\n      },\n\n      'input:checked + div > [part=knob]': {\n        left: `calc(${vars.toggleTrackWidth} + ${vars.toggleTrackInset200} - ${vars.toggleKnobSize})`,\n        background: vars.toggleOnColor,\n      },\n\n      'input:not(:checked) + * + * > [name=on], input:checked + * + * > [name=off]':\n        {\n          display: 'none',\n        },\n    }\n\n    setChecked = () => {\n      const { input } = this.parts as { input: HTMLInputElement }\n      this.value = input.checked\n    }\n\n    toggleChecked = (event: KeyboardEvent) => {\n      if (!this.disabled && event.code === 'Space') {\n        this.value = !this.value\n        event.preventDefault()\n        event.stopPropagation()\n        this.queueRender(true)\n      }\n    }\n\n    content = () =>\n      label(\n        input({\n          hidden: true,\n          type: 'checkbox',\n          part: 'valueHolder',\n        }),\n        div(\n          { part: 'container' },\n          div({ part: 'track' }),\n          div({ part: 'knob' })\n        ),\n        div(slot({ name: 'on' }), slot({ name: 'off' }))\n      )\n\n    connectedCallback() {\n      super.connectedCallback()\n\n      this.value = this.hasAttribute('checked')\n      this.parts.valueHolder.addEventListener('change', this.setChecked)\n      this.addEventListener('keydown', this.toggleChecked)\n      this.setAttribute('tabindex', '0')\n    }\n\n    role = 'checkbox'\n\n    render() {\n      super.render()\n\n      const { valueHolder } = this.parts as ToggleParts\n      valueHolder.checked = this.value\n      this.toggleAttribute('checked', this.value)\n    }\n  }\n\n  return {\n    type: XinToggle,\n    styleSpec: {\n      ':root': {\n        _toggleTrackColor: 'lightgray',\n        _toggleTrackOnColor: vars.toggleTrackColor,\n        _toggleOffColor: 'gray',\n        _toggleOnColor: 'limegreen',\n        _toggleKnobSize: '24px',\n        _toggleKnobRadius: vars.toggleKnobSize50,\n        _toggleTransition: 'ease-in-out 0.2s',\n        _toggleTrackWidth: '32px',\n        _toggleTrackInset: '8px',\n        _toggleTrackHeight: `calc(${vars.toggleKnobSize} - ${vars.toggleTrackInset200})`,\n        _toggleTrackRadius: vars.toggleTrackHeight50,\n        _toggleDisabledOpacity: '0.5',\n        _toggleKnobShadow:\n          'inset 0 1px 1px #fff8, inset 0 -1px 1px #0004, 0 2px 4px #0006',\n        _toggleTrackShadow: 'inset 0 1px 2px #0004',\n        _toggleGap: '8px',\n      },\n      ':host[disabled]': {\n        pointerEvents: 'none',\n        opacity: vars.toggleDisabledOpacity,\n      },\n    },\n  }\n}\n\nexport default toggle\n"
  ],
  "mappings": "AAMO,IAAM,EAAuB,CAAC,EAAK,IAAY,CACpD,MAAQ,YAAW,WAAU,QAAS,GAC9B,QAAO,QAAO,MAAK,QAAS,EAEpC,MAAM,UAAkB,CAAU,CAChC,MAAQ,GACR,SAAW,MAEP,QAAO,EAAY,CACrB,OAAO,KAAK,SAGV,QAAO,CAAC,EAAgB,CAC1B,KAAK,MAAQ,EAGf,WAAW,EAAG,CACZ,MAAM,EAEN,KAAK,eAAe,UAAU,QAGzB,WAAY,CACjB,QAAS,CACP,QAAS,cACX,EAEA,cAAe,CACb,QAAS,cACT,IAAK,EAAK,UACV,WAAY,QACd,EAEA,yBAA0B,CACxB,QAAS,QACT,OAAQ,EAAK,eACb,WAAY,EAAK,eACjB,SAAU,UACZ,EAEA,eAAgB,CACd,WAAY,EAAK,iBACjB,OAAQ,EAAK,iBACb,OAAQ,EAAK,kBACb,MAAO,EAAK,iBACZ,aAAc,EAAK,kBACnB,WAAY,EAAK,iBACjB,UAAW,EAAK,iBAClB,EAEA,qCAAsC,CACpC,WAAY,EAAK,kBACnB,EAEA,cAAe,CACb,WAAY,EAAK,iBACjB,OAAQ,EAAK,eACb,MAAO,EAAK,eACZ,aAAc,EAAK,iBACnB,IAAK,EACL,KAAM,EACN,SAAU,WACV,WAAY,EAAK,eACjB,UAAW,EAAK,gBAClB,EAEA,oCAAqC,CACnC,KAAM,QAAQ,EAAK,sBAAsB,EAAK,yBAAyB,EAAK,kBAC5E,WAAY,EAAK,aACnB,EAEA,8EACE,CACE,QAAS,MACX,CACJ,EAEA,WAAa,IAAM,CACjB,MAAQ,SAAU,KAAK,MACvB,KAAK,MAAQ,EAAM,SAGrB,cAAgB,CAAC,IAAyB,CACxC,IAAK,KAAK,UAAY,EAAM,OAAS,QACnC,KAAK,OAAS,KAAK,MACnB,EAAM,eAAe,EACrB,EAAM,gBAAgB,EACtB,KAAK,YAAY,EAAI,GAIzB,QAAU,IACR,EACE,EAAM,CACJ,OAAQ,GACR,KAAM,WACN,KAAM,aACR,CAAC,EACD,EACE,CAAE,KAAM,WAAY,EACpB,EAAI,CAAE,KAAM,OAAQ,CAAC,EACrB,EAAI,CAAE,KAAM,MAAO,CAAC,CACtB,EACA,EAAI,EAAK,CAAE,KAAM,IAAK,CAAC,EAAG,EAAK,CAAE,KAAM,KAAM,CAAC,CAAC,CACjD,EAEF,iBAAiB,EAAG,CAClB,MAAM,kBAAkB,EAExB,KAAK,MAAQ,KAAK,aAAa,SAAS,EACxC,KAAK,MAAM,YAAY,iBAAiB,SAAU,KAAK,UAAU,EACjE,KAAK,iBAAiB,UAAW,KAAK,aAAa,EACnD,KAAK,aAAa,WAAY,GAAG,EAGnC,KAAO,WAEP,MAAM,EAAG,CACP,MAAM,OAAO,EAEb,MAAQ,eAAgB,KAAK,MAC7B,EAAY,QAAU,KAAK,MAC3B,KAAK,gBAAgB,UAAW,KAAK,KAAK,EAE9C,CAEA,MAAO,CACL,KAAM,EACN,UAAW,CACT,QAAS,CACP,kBAAmB,YACnB,oBAAqB,EAAK,iBAC1B,gBAAiB,OACjB,eAAgB,YAChB,gBAAiB,OACjB,kBAAmB,EAAK,iBACxB,kBAAmB,mBACnB,kBAAmB,OACnB,kBAAmB,MACnB,mBAAoB,QAAQ,EAAK,oBAAoB,EAAK,uBAC1D,mBAAoB,EAAK,oBACzB,uBAAwB,MACxB,kBACE,iEACF,mBAAoB,wBACpB,WAAY,KACd,EACA,kBAAmB,CACjB,cAAe,OACf,QAAS,EAAK,qBAChB,CACF,CACF,GAGa",
  "debugId": "A81E6D49DDB186EE64756E2164756E21",
  "names": []
}