<title>xin-toggle</title>
<script type="module">
  import { makeComponent } from 'https://cdn.jsdelivr.net/npm/xinjs@0.7.1/dist/module.js'
  const blueprint = (await import('./dist/blueprint.js')).default

  makeComponent('xin-toggle', blueprint)
</script>
<xin-loader>
  <xin-blueprint
    tag="xin-test"
    src="https://tonioloewald.github.io/xin-test/dist/blueprint.js"
  ></xin-blueprint>
</xin-loader>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&display=swap');
  body {
    font-family: 'Roboto Slab', serif;
    font-optical-sizing: auto;
    font-weight: <weight>;
    font-style: normal;
  }
  .custom {
    --toggle-track-height: 24px;
    --toggle-track-radius: 12px;
    --toggle-track-inset: -2px;
    --toggle-knob-size: 20px;
    --toggle-track-width: 48px;
    --toggle-track-on-color: limegreen;
    --toggle-on-color: gray;
    --toggle-knob-shadow: none;
  }
</style>
<h1>&lt;xin-toggle&gt; test</h1>
<hr />
<div style="display: flex; flex-direction: column">
  <label>
    <xin-toggle id="basic" checked>
      <div slot="on">on</div>
      <div slot="off">off</div>
    </xin-toggle>
    <span>Basic Example</span>
  </label>

  <label>
    <xin-toggle id="custom" class="custom">
      <div slot="on">on</div>
      <div slot="off">off</div>
    </xin-toggle>
    <span>Customized CSS Variables</span>
  </label>

  <label>
    <xin-toggle id="disabled" disabled>
      <div slot="on">on</div>
      <div slot="off">off</div>
    </xin-toggle>
    <span>Disabled</span>
  </label>

  <label>
    <xin-toggle id="checked-disabled" checked disabled>
      <div slot="on">on</div>
      <div slot="off">off</div>
    </xin-toggle>
    <span>Disabled and checked</span>
  </label>
</div>

<hr />

<h2>Tests</h2>
<xin-test description="xin-toggle registered" delay="100">
  return ( document.querySelector('xin-toggle').constructor !== HTMLElement )
</xin-test>
<xin-test description="basic element value is true" delay="100">
  return document.querySelector('#basic').value
</xin-test>
<xin-test
  description="custom element value is false"
  delay="100"
  expect="false"
>
  return document.querySelector('#custom').checked
</xin-test>
<xin-test description="clicked basic element" delay="200">
  document.querySelector('#basic').parts.input.click(); return true
</xin-test>
<xin-test
  description="basic element is false after clicking"
  delay="500"
  expect="false"
>
  return document.querySelector('#basic').value
</xin-test>
<xin-test description="pressed space on custom element" delay="100">
  document.querySelector('#custom').dispatchEvent(new KeyboardEvent('keydown', {
  charCode: 32, keyCode: 32, code: "Space", key: " ", })); return true
</xin-test>
<xin-test description="custom element is checked after space" delay="200">
  return document.querySelector('#custom').value
</xin-test>
